---
title: Git 도입과 브랜치전략
author: Jay.J
date: 2022-01-12 18:44:39 +0900
categories: [Git]
tags: [Git]
math: true
mermaid: true
image: /blogAPI/assets/img/git.png
---

<br>

## Git 도입과 브랜치전략

사내에 소스 형상관리를 하고 있지않아, 소스가 날아가거나 백업파일을 만들어서 불필요한 용량을 차지한다거나 크고 작은 일들이 지속적으로 발생하였다.<br>
그런 일들을 방지 및 해결하고자 Git을 도입하여 형상관리를 하기로 했다.

- 1. Git 도입하기.
- 2. Git 브런치전략.
- 3. Git 도입 전과 후.

<br>

## 1. Git 도입하기.
어떤 플랫폼을 사용할 것인가에 대해서 무료로 사용하고 비공개로 소스를 관리하기 위하여 Gitlab을 선택하였다.<br>
> <a href="https://about.gitlab.com/" target="blank">Gitlab 바로가기</a>

<br>

### 1-1. git이란.

형상 관리 도구 중 하나로써, 파일의 버전을 관리하는 시스템이다.<br>
> 같은 형상 관리 도구로는 SVN이 있다.<br>

Git은 각각의 개발 PC(로컬)와 중앙 저장소(원격/서버)에 소스를 분산하여 저장시킨다.<br>
중앙 저장소에 문제가 발생하여도 로컬 저장소에서 지속적으로 관리가 가능하여 소스를 안정적으로 관리할 수 있다.

<br>

### 1-2. SourceTree 설치.

git은 기본적으로 터미널에서 직접 명령어를 입력하여 사용한다.<br>
git을 처음 접하거나, 터미널에 익숙하지 않은 인원들을 위하여 SourceTree라는 프로그램을 이용하기로 했다.<br>
<br>
SourceTree란, Git을 GUI(그래픽 사용자 인터페이스)로 사용자가 더 쉽게 사용할 수 있도록 하는 프로그램이다.<br>
SourceTree를 사용함으로써, 터미널에서 명령어를 치는 대신 버튼 한번으로 쉽게 명령어를 실행시킬 수 있다.<br>
또한 변경된 내용이나 오류 메세지등을 쉽게 볼 수 있어 터미널을 이용하는 것보다 접근하기 거부감이 없다.<br>

<img src="/assets/img/git/git_sourcetree.jpg" alt="" style="max-width:500px">

<br>

### 1-3. 기본적인 명령어.
- <b>커밋(Commit) : </b>이전 버전과 다른(신규, 수정, 삭제 등) 파일을 개발 PC(로컬)에 저장하는 명령어.
- <b>Pull : </b>중앙 저장소(원격/서버)에 저장된 버전을 개발 PC(로컬)에 저장시키는 명령어.
- <b>Push : </b>개발 PC(로컬)에 저장된 버전을 중앙 저장소(원격/서버)에 저장시키는 명령어.
- <b>브랜치(Branch) : </b>브랜치를 생성/삭제 등 관리하는 명령어.
- <b>병합(Merge) : </b>다양한 브랜치를 서로 합치는 명령어.

<br>

## 2. Git 브랜치전략.

### 2-1. 브랜치전략이란.

브랜치란 일종의 버전을 관리하는 방법이며, Git에는 기본적으로 main이라는 중심이 되는 브랜치가 있다.<br>
Main 브랜치를 기준으로 다양한 브랜치를 생성하고 삭제시키며 버전을 관리할 수 있다.<br>
브랜치들은 사용자에 따라, 테스트 버전 목적이나 기능 추가 목적 또는 작업자들을 분리하는 목적으로 다양하게 관리할 수 있다.<br>
기업 또는 프로젝트 성향의 따라 나눠지는데 이것을 브랜치 전략이라고 한다.<br>

<img src="/assets/img/git/git_branch.jpg" alt="" style="max-width:700px">

<br>

### 2-2. 사내 브랜치 전략.

Git을 많이 사용해보지 않은 입장에서 테스트나 기능별로 브랜치를 만들다보면 혼란스러울 것이라고 판단했다.
따라서 작업자별로 브랜치를 생성하고 모든 수정사항에 대한 히스토리를 남기는 목적으로 전략을 세웠다.

사내 브랜치 전략은 아래와 같다.

- 1. 각각 개인은 자신의 닉네임인 브랜치를 가지고 있다. ( 로컬 / 원격 )
- 2. 개인의 브랜치에서 작업을 하고 작업이 완료된 파일은 개인의 브랜치에 저장한다. ( 로컬 / 원격 )
- 3. 원격 저장소에서 Main 브랜치로 병합요청을 한다.
- 4. 같은 소스를 작업하여 병합 시 충돌이 있을 경우 개인의 브랜치(로컬)에 Main 브랜치를 Pull 받고 충돌된 소스를 해결하고 저장하고 병합한다.
- 5. 항상 작업 전에는 Main 브랜치의 소스를 Pull 받아 최신화 시킨 후 작업한다. (충돌 최소화를 위함).

<br>

모든 작업자가 개인의 브랜치에서 작업하고, 원격 저장소에서 Main 브랜치로 병합하는 방식이다.<br>
모든 작업자는 Main 브랜치를 직접 컨트롤 할 수 없으며 오직 원격 저장소에서 병합하는 방법으로 컨트롤 해야한다.<br>
원격 저장소에서 병합할 때 충돌되는 소스가 있는 지 한번 확인되기 때문에 충돌을 최소화 하기 위하여 선택한 방법이다.

<br>

## 3. Git 도입 후.

FTP로 파일을 올리고 받아서 작업했던 방식에서 Git을 도입함으로써 작업자가 해야할 일은 늘어났다.<br>
Git 도입 없이 소스를 작업하였을 땐,<br>
동시 작업을 방지하기 위하여 팀원들에게 해당 소스를 사용한다고 말하고 사용하였는데 이 부분은 Git 도입 이후 생략되었다.<br>
또한 말을 하였어도 상대가 이미 작업중이거나 채팅을 보지 못했을 경우에는 소스가 날라가는 일도 종종 있었는데,<br>
다행스럽게도 히스토리를 남기거나 병합 작업을 통하여 충돌되는 지 미리 확인할 수 있어 해당 부분에 대한 걱정도 덜하게 되었다.<br>
<br>
결과론적으로 작업 전, 후에 해야할 일이 조금은 늘었지만<br>
소스를 관리하는 측면에서는 불필요한 소통이 사라지고 롤백에 대한 불필요한 걱정을 덜하게 되어 좀 더 소스에 집중할 수 있게 되었던 것 같다.